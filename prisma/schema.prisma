generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Users {
  UserID   Int    @id @default(autoincrement())
  UserName String @db.VarChar(100)
  Password String @db.VarChar(300)
  Email    String @db.VarChar(100)
  Phone    String @db.VarChar(100)
  Role     Role   @default(patron)
}


model Borrowing {
  borrowing_id Int        @id @default(autoincrement())
  user_id      Int
  item_id      Int
  borrow_date  DateTime   @default(now())
  due_date     DateTime
  return_date  DateTime?
  Borrowingstatus       BorrowingStatus @default(borrowed)
}

model Items {
  ItemID     Int      @id @default(autoincrement())
  ItemType   String   @db.VarChar(100)
  ItemTitle  String   @db.VarChar(300)
  ItemAuthor String   @db.VarChar(300)
  status     Status   @default(available)
  imageUrl   String?    
}

enum Status {
  available
  borrowed
}

enum Role {
  admin
  librarian
  patron
}

enum BorrowingStatus {
  borrowed
  returned
  overdue
}